{"ast":null,"code":"class Api{constructor(baseUrl,headers){this.baseUrl=baseUrl;this.headers=headers;}getInitialCards(){return fetch(\"\".concat(this.baseUrl,\"/cards\"),{headers:this.headers}).then(res=>{if(!res.ok)throw new Error(\"Server error: \".concat(res.status));return res.json();}).catch(error=>console.error('Error',error));}getUserInfo(){return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{headers:this.headers}).then(res=>{if(!res.ok)throw new Error(\"Server error: \".concat(res.status));return res.json();}).catch(error=>console.error('Error',error));}updateUser(name,about){console.log('update user',name,about);return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{headers:this.headers,method:'PATCH',body:JSON.stringify({name,about})}).then(res=>{if(!res.ok)throw new Error(\"Error en servidor: \".concat(res.status));return res.json();}).catch(error=>console.error('Error',error));}updateAvatar(avatar){return fetch(\"\".concat(this.baseUrl,\"/users/me/avatar\"),{headers:this.headers,method:'PATCH',body:JSON.stringify({avatar})}).then(res=>{if(!res.ok)throw new Error(\"Error en servidor: \".concat(res.status));return res.json();}).catch(error=>console.error('Error',error));}addCard(name,link){return fetch(\"\".concat(this.baseUrl,\"/cards\"),{headers:this.headers,method:'POST',body:JSON.stringify({name,link})}).then(res=>{if(!res.ok)throw new Error(\"Error en servidor: \".concat(res.status));return res.json();}).catch(error=>console.error('Error',error));}deleteCard(idCard){return fetch(\"\".concat(this.baseUrl,\"/cards/\").concat(idCard),{headers:this.headers,method:'DELETE',body:JSON.stringify({idCard})}).then(res=>{if(!res.ok)throw new Error(\"Error en servidor: \".concat(res.status));return res.json();}).catch(error=>console.error('Error',error));}likeCard(id){return fetch(\"\".concat(this.baseUrl,\"/cards/likes/\").concat(id),{headers:this.headers,method:'PUT',body:JSON.stringify({id})}).then(res=>{if(!res.ok)throw new Error(\"Error en servidor: \".concat(res.status));return res.json();}).catch(error=>console.error('Error',error));}unlikeCard(id){return fetch(\"\".concat(this.baseUrl,\"/cards/likes/\").concat(id),{headers:this.headers,method:'DELETE',body:JSON.stringify({id})}).then(res=>{if(!res.ok)throw new Error(\"Error en servidor: \".concat(res.status));return res.json();}).catch(error=>console.error('Error',error));}}export const api=new Api('https://around.nomoreparties.co/v1/web_es_12',{authorization:'fa25d0a0-1783-4d33-9dd9-ca8f33a53e6d','Content-Type':'application/json'});/* export default api; */","map":{"version":3,"names":["Api","constructor","baseUrl","headers","getInitialCards","fetch","concat","then","res","ok","Error","status","json","catch","error","console","getUserInfo","updateUser","name","about","log","method","body","JSON","stringify","updateAvatar","avatar","addCard","link","deleteCard","idCard","likeCard","id","unlikeCard","api","authorization"],"sources":["/Users/gabriel/Documents/Proyectos-TripleTen/Proyecto4/web_project_around_react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(baseUrl, headers) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, { headers: this.headers })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Server error: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Server error: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n  updateUser(name, about) {\n    console.log('update user', name, about);\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  updateAvatar(avatar) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      headers: this.headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  addCard(name, link) {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  deleteCard(idCard) {\n    return fetch(`${this.baseUrl}/cards/${idCard}`, {\n      headers: this.headers,\n      method: 'DELETE',\n      body: JSON.stringify({\n        idCard,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  likeCard(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      headers: this.headers,\n      method: 'PUT',\n      body: JSON.stringify({\n        id,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  unlikeCard(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      headers: this.headers,\n      method: 'DELETE',\n      body: JSON.stringify({\n        id,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n}\n\nexport const api = new Api('https://around.nomoreparties.co/v1/web_es_12', {\n  authorization: 'fa25d0a0-1783-4d33-9dd9-ca8f33a53e6d',\n  'Content-Type': 'application/json',\n});\n\n/* export default api; */\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}