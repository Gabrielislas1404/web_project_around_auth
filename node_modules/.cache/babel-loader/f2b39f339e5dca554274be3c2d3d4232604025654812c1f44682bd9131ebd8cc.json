{"ast":null,"code":"class Api {\n  constructor(baseUrl, headers) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers\n    }).then(res => {\n      if (!res.ok) throw new Error(`Server error: ${res.status}`);\n      return res.json();\n    }).catch(error => console.error('Error', error));\n  }\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers\n    }).then(res => {\n      if (!res.ok) throw new Error(`Server error: ${res.status}`);\n      return res.json();\n    }).catch(error => console.error('Error', error));\n  }\n  updateUser({\n    name,\n    about\n  }) {\n    console.log('update user', name, about);\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(res => {\n      if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n      return res.json();\n    }).catch(error => console.error('Error', error));\n  }\n  updateAvatar({\n    avatar\n  }) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      headers: this.headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(res => {\n      if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n      return res.json();\n    }).catch(error => console.error('Error', error));\n  }\n  addCard({\n    name,\n    link\n  }) {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(res => {\n      if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n      return res.json();\n    }).catch(error => console.error('Error', error));\n  }\n  deleteCard(idCard) {\n    return fetch(`${this.baseUrl}/cards/${idCard}`, {\n      headers: this.headers,\n      method: 'DELETE',\n      body: JSON.stringify({\n        idCard\n      })\n    }).then(res => {\n      if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n      return res.json();\n    }).catch(error => console.error('Error', error));\n  }\n  likeCard(_id, isLiked) {\n    const method = isLiked ? 'PUT' : 'DELETE';\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      headers: this.headers,\n      method: method,\n      body: JSON.stringify({\n        _id\n      })\n    }).then(res => {\n      if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n      return res.json();\n    }).catch(error => console.error('Error', error));\n  }\n  unlikeCard(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      headers: this.headers,\n      method: 'DELETE',\n      body: JSON.stringify({\n        id\n      })\n    }).then(res => {\n      if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n      return res.json();\n    }).catch(error => console.error('Error', error));\n  }\n}\nconst api = new Api('https://around.nomoreparties.co/v1/web_es_12', {\n  authorization: 'fa25d0a0-1783-4d33-9dd9-ca8f33a53e6d',\n  'Content-Type': 'application/json'\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","baseUrl","headers","getInitialCards","fetch","then","res","ok","Error","status","json","catch","error","console","getUserInfo","updateUser","name","about","log","method","body","JSON","stringify","updateAvatar","avatar","addCard","link","deleteCard","idCard","likeCard","_id","isLiked","id","unlikeCard","api","authorization"],"sources":["/Users/gabriel/Documents/Proyectos-TripleTen/Proyecto4/web_project_around_react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(baseUrl, headers) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, { headers: this.headers })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Server error: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Server error: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n  updateUser({ name, about }) {\n    console.log('update user', name, about);\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  updateAvatar({ avatar }) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      headers: this.headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  addCard({ name, link }) {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  deleteCard(idCard) {\n    return fetch(`${this.baseUrl}/cards/${idCard}`, {\n      headers: this.headers,\n      method: 'DELETE',\n      body: JSON.stringify({\n        idCard,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  likeCard(_id, isLiked) {\n    const method = isLiked ? 'PUT' : 'DELETE';\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      headers: this.headers,\n      method: method,\n      body: JSON.stringify({\n        _id,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n\n  unlikeCard(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      headers: this.headers,\n      method: 'DELETE',\n      body: JSON.stringify({\n        id,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error en servidor: ${res.status}`);\n        return res.json();\n      })\n      .catch((error) => console.error('Error', error));\n  }\n}\n\nconst api = new Api('https://around.nomoreparties.co/v1/web_es_12', {\n  authorization: 'fa25d0a0-1783-4d33-9dd9-ca8f33a53e6d',\n  'Content-Type': 'application/json',\n});\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}