{"ast":null,"code":"import React from'react';import{useState,useEffect}from'react';import{api}from'../utils/api';import'../blocks/profile.css';import Card from'./Card';import ImagePopup from'./ImagePopup';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Main(_ref){let{onEditAvatarClick,onEditProfileClick,onAddPlaceClick}=_ref;const[userName,setUserName]=useState('');const[userDescription,setUserDescription]=useState('');const[userAvatar,setUserAvatar]=useState('');const[cards,setCards]=useState([]);useEffect(()=>{api.getUserInfo().then(data=>{setUserName(data.name);setUserDescription(data.about);setUserAvatar(data.avatar);});api.getInitialCards().then(res=>{setCards(res);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"profile__picture-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"profile__picture-overlay\"}),/*#__PURE__*/_jsx(\"img\",{src:userAvatar,alt:\"foto de perfil\",class:\"profile__picture\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__picture-button\",onClick:onEditAvatarClick})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"profile__container\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__button\",onClick:onEditProfileClick}),/*#__PURE__*/_jsx(\"h2\",{class:\"profile__about-me\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"profile__add-button\",onClick:onAddPlaceClick})]}),selectedCard&&/*#__PURE__*/_jsx(ImagePopup,{selectedCard:selectedCard,onClose:closeAllPopups}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(card=>{return/*#__PURE__*/_jsx(Card,{card:card},card._id);})})]});}export default Main;","map":{"version":3,"names":["React","useState","useEffect","api","Card","ImagePopup","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Main","_ref","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","getUserInfo","then","data","name","about","avatar","getInitialCards","res","children","className","class","src","alt","onClick","type","selectedCard","onClose","closeAllPopups","map","card","_id"],"sources":["/Users/gabriel/Documents/Proyectos-TripleTen/Proyecto4/web_project_around_react/src/components/Main.js"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { api } from '../utils/api';\nimport '../blocks/profile.css';\nimport Card from './Card';\nimport ImagePopup from './ImagePopup';\n\nfunction Main({ onEditAvatarClick, onEditProfileClick, onAddPlaceClick }) {\n  const [userName, setUserName] = useState('');\n  const [userDescription, setUserDescription] = useState('');\n  const [userAvatar, setUserAvatar] = useState('');\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api.getUserInfo().then((data) => {\n      setUserName(data.name);\n      setUserDescription(data.about);\n      setUserAvatar(data.avatar);\n    });\n\n    api.getInitialCards().then((res) => {\n      setCards(res);\n    });\n  }, []);\n\n  return (\n    <>\n      <section className=\"profile\">\n        <div class=\"profile__picture-wrapper\">\n          <div class=\"profile__picture-overlay\"></div>\n          <img src={userAvatar} alt=\"foto de perfil\" class=\"profile__picture\" />\n          <button\n            className=\"profile__picture-button\"\n            onClick={onEditAvatarClick}\n          ></button>\n        </div>\n\n        <div class=\"profile__container\">\n          <h1 class=\"profile__name\">{userName}</h1>\n          <button\n            type=\"button\"\n            className=\"profile__button\"\n            onClick={onEditProfileClick}\n          ></button>\n          <h2 class=\"profile__about-me\">{userDescription}</h2>\n        </div>\n        <button\n          type=\"button\"\n          class=\"profile__add-button\"\n          onClick={onAddPlaceClick}\n        ></button>\n      </section>\n\n      {selectedCard && (\n        <ImagePopup selectedCard={selectedCard} onClose={closeAllPopups} />\n      )}\n\n      <section className=\"elements\">\n        {cards.map((card) => {\n          return <Card key={card._id} card={card}></Card>;\n        })}\n      </section>\n    </>\n  );\n}\n\nexport default Main;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}